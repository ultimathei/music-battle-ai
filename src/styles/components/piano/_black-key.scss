/**
* PIANO BLACK KEY COMPONENT
* -- 
*/

.black-key {
  background-color: $color-blue-deep;
  border-bottom-left-radius: 10px;
  border-bottom-right-radius: 10px;
  margin-left: calc(#{$piano-black-key-size} / -2);
  overflow: hidden;
  position: absolute;

  // // defining left offset for all black keys in the octave range
  // $black-key-locations: 1, 2, 4, 5, 6;
  // @each $i in $black-key-locations {
  //   &[data-piano-black-key-index="#{$i}"] {
  //     left: calc(#{$i} * #{$piano-white-key-size});
  //   }
  // }

  // test map
  $black-key-notes: (
    1 : 1,
    3 : 2,
    6 : 4,
    8 : 5,
    10 : 6
  );
  // mixin to calculate correct position of black keys
  @each $key, $value in $black-key-notes {
    @if not map-has-key($black-key-notes, $key) {
      @warn "'#{$key}' is not a valid black note hight";
    }

    @else {
      &[data-piano-black-key-index="#{$key}"] {
        left: calc(#{$value} * #{$piano-white-key-size});
      }
    }
  }

  &__top {
    background: linear-gradient(180deg, $color-black, transparent 33%);
    // background: linear-gradient(180deg, #272727, rgba(155,100,0,1) 100%);
    // outline but with border-radius
    box-shadow: 0 0 0 3px $color-grey-dark;
    border-bottom-left-radius: 10px;
    border-bottom-right-radius: 10px;
    height: 85%;
    width: 100%;
  }
  &[data-piano-key-pressed="true"] &__top {
    height: 95%;
    // background: linear-gradient(180deg, #272727, rgba(155,100,0,1) 100%);
    // background: linear-gradient(180deg, #272727, #9b0039 100%);
    background: linear-gradient(180deg, #272727, #00779b 100%);
  }
}
